@import 'base.styl'

// ----------------------------------------------------------
// Base styles

@font-face
    font-family 'FiraSans'
    src url('fonts/FiraSans-Light.woff2') format('woff2')
    font-weight 200

@font-face
    font-family 'FiraSans'
    src url('fonts/FiraSans-Medium.woff2') format('woff2')
    font-weight 500

*
*:before
*:after
    box-sizing border-box

html
    width 100%
    height 100%
    background-color black
    margin 0
    padding 0

body
    height 100%
    overflow hidden
    margin 0
    padding 0
    //font-size .875rem

body
label
input
    color $colorBase
    font-family 'FiraSans'
    font-weight 200
    line-height 1.25

a
    color $colorLink
    text-decoration none

p:first-line
    margin-left 2rem

::-webkit-scrollbar
    width 1px
::-webkit-scrollbar-button
::-webkit-scrollbar-track
::-webkit-scrollbar-corner
::-webkit-scrollbar-track-piece
    display none
::-webkit-scrollbar-thumb
    background-color $colorDim

// ----------------------------------------------------------
// Page background

.Background
    position absolute
    top 0
    right 0
    bottom 0
    left 0

// ----------------------------------------------------------
// Page layout

.Page
    height 100%
    display flex
    flex-direction column
    align-items stretch
    position relative

.Page__top
.Page__bottom
    flex 0 0 4rem
    display flex
    align-items flex-end

.Page__top
    position relative
    margin 2rem 2rem 0
    padding-bottom .5rem
    &:before
    &:after
        @extend $Panel__decor--long
        top 0
    &:before
        left 0
    &:after
        right 0

.Page__content
    flex 1 1
    display flex
    align-items stretch
// ----------------------------------------------------------
// Nav

.Logo
    font-weight 200
    font-size 1.25rem
    display flex
    align-items center
    height 2rem
    color $colorBase

.Nav
    flex 1
    display flex
    justify-content flex-end

.Nav__item
    font-size 1.25rem
    display flex
    height 2rem
    align-items center
    text-transform uppercase
    margin-left .5rem
    padding 0 1rem

.Nav__item.isActive
    @extend $NavActive

// ----------------------------------------------------------
// Controls

.Controls
    position fixed
    display flex
    bottom 2rem
    right 2rem

.Button--sound
    @extend $ControlButton
    .Icon--sound
        margin-right .5rem
        fill $colorDim


.Button--sound.isOn
    @extend $ControlButton--active
    .Icon--sound
        fill $colorHighlight
    .Sound1
        transform-origin 50% 50%
        animation AnimSound 1s ease-in-out infinite
    .Sound2
        transform-origin 50% 50%
        animation AnimSound .9s ease-in-out infinite
    .Sound3
        transform-origin 50% 50%
        animation AnimSound .7s ease-in-out infinite
    .Sound4
        transform-origin 50% 50%
        animation AnimSound .2s ease-in-out infinite

@keyframes AnimSound
    0%
        transform scaleY(0.1)
        fill $colorBase
    20%
        transform scaleY(1)
    40%
        transform scaleY(0.4)
    60%
        transform scaleY(0.75)
    80%
        transform scaleY(0.2)
        fill $colorBase
    100%
        transform scaleY(0.1)
        fill $colorBase


// ----------------------------------------------------------
// Panel

.Panel__header
    @extend $Panel__header
    &:before
    &:after
        top -2px
        @extend $Panel__decor
    &:before
        left 0
    &:after
        right 0


.Panel__title
    @extend $Panel__title

.Panel__menu
    @extend $Panel__menu

.Panel__menuItem
    @extend $MenuItem

.Panel__menuItem.isActive
    @extend $NavActive

.Panel__menuItem:hover
.Nav__item:hover
    @extend $NavHover

.Unit
    color $colorBase

.Panel__content
    @extend $Panel__content

.Panel__footer
    @extend $Panel__footer
    position relative
    &:before
    &:after
        @extend $Panel__decor
        bottom -1px
    &:before
        left 0
    &:after
        right 0

// ----------------------------------------------------------
// Weather Section

.Weather__EITFilters
    @extend $Panel--40

.Weather__fluxes
    @extend $Panel--60

.Panel__content--noPadding
    @extend $Panel__content--noPadding

// ----------------------------------------------------------
// Sun visualization

.Sun
    position absolute
    top 1rem
    left 0
    bottom 1rem
    width 100%
    //height 100%
.Sun__container
    width 100%
    height 100%
    background-color black
    border 1px solid $colorDim
.Sun__date
    position absolute
    right 0
    font-size 1.25rem
    bottom 1rem
    color $colorBase
.Sun__image
    display block
    margin auto
    max-width 100%
    max-height 100%

// ----------------------------------------------------------
// Timeline

.Timeline
    margin 1rem 0 1rem
    flex 1 0 auto
.Timeline__progress
    height 1rem
    position relative
.Timeline__progress:before
.Timeline__progress:after
    position absolute
    content ''
    top 0
    height .5rem
    width 1px
    background-color $colorBase
.Timeline__progress:before
    left 0
.Timeline__progress:after
    right 0
.Timeline__bar
    position absolute
    width 100%
    top 0
    //margin-top -1px
    height 2px
    background-color $colorDim

.Timeline__fill
    position absolute
    height 2px
    top 0
    left 0
    width 100%
    transform-origin 0 0
    background-color $colorBase

.Timeline__mark
    cursor pointer
    height 1.5rem
    position absolute
    top -.75rem
    margin-top 1px
    margin-left -.4rem
    background-color $colorHighlight

.Timeline__markTop
.Timeline__markBottom
    position absolute
    width 0
    height 0
    border .4rem solid transparent
.Timeline__markTop
    border-top-color $colorTitle
    top 0
.Timeline__markBottom
    border-bottom-color $colorTitle
    bottom 0

.Timeline__dates
    display flex
    font-size .875rem
    height 1rem

.Timeline__dateCurrent
    flex 1 0 50%
    text-align center
    color $colorHighlight
.Timeline__dateStart
    flex 0 0 25%
.Timeline__dateEnd
    flex 0 0 25%
    text-align right

// ----------------------------------------------------------
// Forecast Section

.Forecast__graphs
    @extend $Panel--60

.Forecast__alerts
    @extend $Panel--40

.Alerts
    position absolute
    top 1rem
    left 0
    width 100%
    bottom 1rem
    overflow-y scroll

.Alert
    @extend $Alert

.Alert__basicInfo:before
    @extend $Alert__decor

.Alert--summary
    .Alert__basicInfo:before
        background-color $colorAlertSummary

.Alert--warning
    .Alert__basicInfo:before
        background-color $colorAlertWarning

.Alert--watch
    .Alert__basicInfo:before
        background-color $colorAlertWatch

.Alert--extendedWarning
    .Alert__basicInfo:before
        background-color $colorAlertWarning

.Alert--cancelWarning
    .Alert__basicInfo:before
        background-color $colorAlertCancelWarning

.Alert:hover
    .Alert__message
        color $colorHighlight
    .Alert__basicInfo
        transition background-color .1s $easeInCubic
        background-color alpha($colorDim, .1)
.Alert:hover .Alert__basicInfo:before
.Alert__input:checked ~ .Alert__basicInfo:before
        width 6rem
        transition width .2s $easeInCubic

.Alert__basicInfo
    display block
    padding-bottom 1rem
    cursor pointer
    transition background-color .2s $easeInCubic

.Alert__input
    width 0
    height 0
    display none

.Alert__metadata
    @extend $Metadata

.Alert__issueTime
    margin-right 1rem

.Alert__message
    color $colorLink
    text-transform uppercase

.Alert__extendedInfo
    max-height 0
    overflow hidden
    transform translate3d(0,0,0)
    transition max-height .4s $easeInCubic

.Alert__input:checked ~ .Alert__extendedInfo
    max-height 20rem
    transform translate3d(0,0,0)
    transition max-height .2s $easeInCubic

// ----------------------------------------------------------
// Sections

.Weather
.Sunspots
.SolarCycle
.Forecast
    @extend $Section

.Weather.isActive
.Sunspots.isActive
.SolarCycle.isActive
.Forecast.isActive
    @extend $Section--active

.Sunspots__image
.SolarCycle__graph
    @extend $Panel--60

.Sunspots__description
.SolarCycle__description
    flex 0 0 40%
    padding 2rem

.Text__header
    @extend $Text__header

.Text__header:before
    @extend $Panel__decor
    top -.125rem
    right 0

.Text__body
    @extend $Text__body

.Text__body:after
    @extend $Panel__decor
    bottom -.125rem
    right 0

// ----------------------------------------------------------
// Graph

.Graph
    flex 1
    display flex
    flex-direction column

.Graph__content
    flex 1

.Graph__legends
    flex 0 0 2rem
    display flex
    padding-top 1rem
    border-top 1px solid $colorDim

.Graph__legend
    display flex
    align-items center
    margin-right 2rem

.Graph__legendColor
    width 1rem
    height .5rem
    background-color $colorTitle
    margin-right .5rem

.Graph__legendLabel
    font-size .875rem

// ----------------------------------------------------------
// Graph

.Loader
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    background-color black
    display flex
    align-items center
    justify-content center

.Loader__spinner
    fill $colorBase
.Loader01
.Loader02
.Loader03
.Loader04
.Loader05
.Loader06
    transform-origin 50% 50%

.Loader.isActive
    opacity 1
    .Loader01
        animation AnimLoader 1s ease-in-out infinite alternate
    .Loader02
        animation AnimLoader 1s ease-in-out infinite alternate .1s
    .Loader03
        animation AnimLoader 1s ease-in-out infinite alternate .2s
    .Loader04
        animation AnimLoader 1s ease-in-out infinite alternate .3s
    .Loader05
        animation AnimLoader 1s ease-in-out infinite alternate .4s
    .Loader06
        animation AnimLoader 1s ease-in-out infinite alternate .5s

.Loader:not(.isActive)
    opacity 0
    pointer-events none


@keyframes AnimLoader
    0%
        fill $colorBase
        transform scaleY(0.1)
    50%
        fill $colorTitle
        transform scaleY(1)
    100%
        fill $colorBase
        transform scaleY(0.1)
